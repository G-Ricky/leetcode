package com.leetcode.solution.problem600;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.Arguments;
import org.junit.jupiter.params.provider.MethodSource;

import java.util.HashSet;
import java.util.Map;
import java.util.Set;
import java.util.stream.Stream;

/**
 * @author Ricky
 * @date 2021-09-11 17:09:58
 */
public class SolutionTest {

    @ParameterizedTest
    @MethodSource("testSource")
    void test(int expected, int n) {
        Assertions.assertEquals(expected, new Solution().findIntegers(n));
    }

    @Test
    void testCount() {
        Set<Integer> set = new HashSet<>();
        for (int i = 0; i < 1000000000; ++i) {
            Solution solution = new Solution();
            solution.findIntegers(i);
            set.add(solution.map.size());
        }
        System.out.println(set);
    }

    @ParameterizedTest
    @MethodSource("getBitCountSource")
    void testGetBitCount(int expected, int n) {
        Assertions.assertEquals(expected, new Solution().getBitCount(n));
    }

    @ParameterizedTest
    @MethodSource("getBitSource")
    void testGetBit(int expected, int n, int pos) {
        Assertions.assertEquals(expected, new Solution().getBit(n, pos));
    }

    @ParameterizedTest
    @MethodSource("onlyHighBitSource")
    void testOnlyHighBit(int expected, int n) {
        Assertions.assertEquals(expected, new Solution().onlyHighBit(n));
    }

    @ParameterizedTest
    @MethodSource("removeHighBitSource")
    void testRemoveHighBit(int expected, int n) {
        Assertions.assertEquals(expected, new Solution().removeHighBit(n));
    }

    static Stream<Arguments> testSource() {
        return Stream.of(
            Arguments.of(1, 0),
            Arguments.of(2, 1),
            Arguments.of(3, 2),
            Arguments.of(3, 3),
            Arguments.of(4, 4),
            Arguments.of(5, 5),
            Arguments.of(5, 6),
            Arguments.of(5, 7),
            Arguments.of(6, 8),
            Arguments.of(7, 9),
            Arguments.of(8, 10),
            Arguments.of(8, 11),
            Arguments.of(8, 12),
            Arguments.of(8, 13),
            Arguments.of(8, 14),
            Arguments.of(8, 15),
            Arguments.of(9, 16),
            Arguments.of(10, 17),
            Arguments.of(11, 18),
            Arguments.of(11, 19),
            Arguments.of(12, 20),
            Arguments.of(13, 21),
            Arguments.of(13, 22),
            Arguments.of(13, 23),
            Arguments.of(13, 24),
            Arguments.of(13, 25),
            Arguments.of(13, 26),
            Arguments.of(13, 27),
            Arguments.of(13, 28),
            Arguments.of(13, 29),
            Arguments.of(13, 30),
            Arguments.of(13, 31),
            Arguments.of(14, 32),
            Arguments.of(15, 33),
            Arguments.of(16, 34),
            Arguments.of(16, 35),
            Arguments.of(17, 36),
            Arguments.of(18, 37),
            Arguments.of(18, 38),
            Arguments.of(18, 39),
            Arguments.of(19, 40),
            Arguments.of(20, 41),
            Arguments.of(21, 42),
            Arguments.of(21, 43),
            Arguments.of(21, 44),
            Arguments.of(21, 45),
            Arguments.of(21, 46),
            Arguments.of(21, 47),
            Arguments.of(21, 48),
            Arguments.of(21, 49),
            Arguments.of(21, 50),
            Arguments.of(21, 51),
            Arguments.of(21, 52),
            Arguments.of(21, 53),
            Arguments.of(21, 54),
            Arguments.of(21, 55),
            Arguments.of(21, 56),
            Arguments.of(21, 57),
            Arguments.of(21, 58),
            Arguments.of(21, 59),
            Arguments.of(21, 60),
            Arguments.of(21, 61),
            Arguments.of(21, 62),
            Arguments.of(21, 63),
            Arguments.of(22, 64),
            Arguments.of(23, 65),
            Arguments.of(24, 66),
            Arguments.of(24, 67),
            Arguments.of(25, 68),
            Arguments.of(26, 69),
            Arguments.of(26, 70),
            Arguments.of(26, 71),
            Arguments.of(27, 72),
            Arguments.of(28, 73),
            Arguments.of(29, 74),
            Arguments.of(29, 75),
            Arguments.of(29, 76),
            Arguments.of(29, 77),
            Arguments.of(29, 78),
            Arguments.of(29, 79),
            Arguments.of(30, 80),
            Arguments.of(31, 81),
            Arguments.of(32, 82),
            Arguments.of(32, 83),
            Arguments.of(33, 84),
            Arguments.of(34, 85),
            Arguments.of(34, 86),
            Arguments.of(34, 87),
            Arguments.of(34, 88),
            Arguments.of(34, 89),
            Arguments.of(34, 90),
            Arguments.of(34, 91),
            Arguments.of(34, 92),
            Arguments.of(34, 93),
            Arguments.of(34, 94),
            Arguments.of(34, 95),
            Arguments.of(34, 96),
            Arguments.of(34, 97),
            Arguments.of(34, 98),
            Arguments.of(34, 99),
            Arguments.of(34, 100),
            Arguments.of(34, 101),
            Arguments.of(34, 102),
            Arguments.of(34, 103),
            Arguments.of(34, 104),
            Arguments.of(34, 105),
            Arguments.of(34, 106),
            Arguments.of(34, 107),
            Arguments.of(34, 108),
            Arguments.of(34, 109),
            Arguments.of(34, 110),
            Arguments.of(34, 111),
            Arguments.of(34, 112),
            Arguments.of(34, 113),
            Arguments.of(34, 114),
            Arguments.of(34, 115),
            Arguments.of(34, 116),
            Arguments.of(34, 117),
            Arguments.of(34, 118),
            Arguments.of(34, 119),
            Arguments.of(34, 120),
            Arguments.of(34, 121),
            Arguments.of(34, 122),
            Arguments.of(34, 123),
            Arguments.of(34, 124),
            Arguments.of(34, 125),
            Arguments.of(34, 126),
            Arguments.of(34, 127),
            Arguments.of(35, 128),
            Arguments.of(36, 129),
            Arguments.of(37, 130),
            Arguments.of(37, 131),
            Arguments.of(38, 132),
            Arguments.of(39, 133),
            Arguments.of(39, 134),
            Arguments.of(39, 135),
            Arguments.of(40, 136),
            Arguments.of(41, 137),
            Arguments.of(42, 138),
            Arguments.of(42, 139),
            Arguments.of(42, 140),
            Arguments.of(42, 141),
            Arguments.of(42, 142),
            Arguments.of(42, 143),
            Arguments.of(43, 144),
            Arguments.of(44, 145),
            Arguments.of(45, 146),
            Arguments.of(45, 147),
            Arguments.of(46, 148),
            Arguments.of(47, 149),
            Arguments.of(47, 150),
            Arguments.of(47, 151),
            Arguments.of(47, 152),
            Arguments.of(47, 153),
            Arguments.of(47, 154),
            Arguments.of(47, 155),
            Arguments.of(47, 156),
            Arguments.of(47, 157),
            Arguments.of(47, 158),
            Arguments.of(47, 159),
            Arguments.of(48, 160),
            Arguments.of(49, 161),
            Arguments.of(50, 162),
            Arguments.of(50, 163),
            Arguments.of(51, 164),
            Arguments.of(52, 165),
            Arguments.of(52, 166),
            Arguments.of(52, 167),
            Arguments.of(53, 168),
            Arguments.of(54, 169),
            Arguments.of(55, 170),
            Arguments.of(55, 171),
            Arguments.of(55, 172),
            Arguments.of(55, 173),
            Arguments.of(55, 174),
            Arguments.of(55, 175),
            Arguments.of(55, 176),
            Arguments.of(55, 177),
            Arguments.of(55, 178),
            Arguments.of(55, 179),
            Arguments.of(55, 180),
            Arguments.of(55, 181),
            Arguments.of(55, 182),
            Arguments.of(55, 183),
            Arguments.of(55, 184),
            Arguments.of(55, 185),
            Arguments.of(55, 186),
            Arguments.of(55, 187),
            Arguments.of(55, 188),
            Arguments.of(55, 189),
            Arguments.of(55, 190),
            Arguments.of(55, 191),
            Arguments.of(55, 192),
            Arguments.of(55, 193),
            Arguments.of(55, 194),
            Arguments.of(55, 195),
            Arguments.of(55, 196),
            Arguments.of(55, 197),
            Arguments.of(55, 198),
            Arguments.of(55, 199),
            Arguments.of(55, 200),
            Arguments.of(55, 201),
            Arguments.of(55, 202),
            Arguments.of(55, 203),
            Arguments.of(55, 204),
            Arguments.of(55, 205),
            Arguments.of(55, 206),
            Arguments.of(55, 207),
            Arguments.of(55, 208),
            Arguments.of(55, 209),
            Arguments.of(55, 210),
            Arguments.of(55, 211),
            Arguments.of(55, 212),
            Arguments.of(55, 213),
            Arguments.of(55, 214),
            Arguments.of(55, 215),
            Arguments.of(55, 216),
            Arguments.of(55, 217),
            Arguments.of(55, 218),
            Arguments.of(55, 219),
            Arguments.of(55, 220),
            Arguments.of(55, 221),
            Arguments.of(55, 222),
            Arguments.of(55, 223),
            Arguments.of(55, 224),
            Arguments.of(55, 225),
            Arguments.of(55, 226),
            Arguments.of(55, 227),
            Arguments.of(55, 228),
            Arguments.of(55, 229),
            Arguments.of(55, 230),
            Arguments.of(55, 231),
            Arguments.of(55, 232),
            Arguments.of(55, 233),
            Arguments.of(55, 234),
            Arguments.of(55, 235),
            Arguments.of(55, 236),
            Arguments.of(55, 237),
            Arguments.of(55, 238),
            Arguments.of(55, 239),
            Arguments.of(55, 240),
            Arguments.of(55, 241),
            Arguments.of(55, 242),
            Arguments.of(55, 243),
            Arguments.of(55, 244),
            Arguments.of(55, 245),
            Arguments.of(55, 246),
            Arguments.of(55, 247),
            Arguments.of(55, 248),
            Arguments.of(55, 249),
            Arguments.of(55, 250),
            Arguments.of(55, 251),
            Arguments.of(55, 252),
            Arguments.of(55, 253),
            Arguments.of(55, 254),
            Arguments.of(55, 255),
            Arguments.of(56, 256),
            Arguments.of(57, 257),
            Arguments.of(58, 258),
            Arguments.of(58, 259),
            Arguments.of(59, 260),
            Arguments.of(60, 261),
            Arguments.of(60, 262),
            Arguments.of(60, 263),
            Arguments.of(61, 264),
            Arguments.of(62, 265),
            Arguments.of(63, 266),
            Arguments.of(63, 267),
            Arguments.of(63, 268),
            Arguments.of(63, 269),
            Arguments.of(63, 270),
            Arguments.of(63, 271),
            Arguments.of(64, 272),
            Arguments.of(65, 273),
            Arguments.of(66, 274),
            Arguments.of(66, 275),
            Arguments.of(67, 276),
            Arguments.of(68, 277),
            Arguments.of(68, 278),
            Arguments.of(68, 279),
            Arguments.of(68, 280),
            Arguments.of(68, 281),
            Arguments.of(68, 282),
            Arguments.of(68, 283),
            Arguments.of(68, 284),
            Arguments.of(68, 285),
            Arguments.of(68, 286),
            Arguments.of(68, 287),
            Arguments.of(69, 288),
            Arguments.of(70, 289),
            Arguments.of(71, 290),
            Arguments.of(71, 291),
            Arguments.of(72, 292),
            Arguments.of(73, 293),
            Arguments.of(73, 294),
            Arguments.of(73, 295),
            Arguments.of(74, 296),
            Arguments.of(75, 297),
            Arguments.of(76, 298),
            Arguments.of(76, 299),
            Arguments.of(76, 300),
            Arguments.of(76, 301),
            Arguments.of(76, 302),
            Arguments.of(76, 303),
            Arguments.of(76, 304),
            Arguments.of(76, 305),
            Arguments.of(76, 306),
            Arguments.of(76, 307),
            Arguments.of(76, 308),
            Arguments.of(76, 309),
            Arguments.of(76, 310),
            Arguments.of(76, 311),
            Arguments.of(76, 312),
            Arguments.of(76, 313),
            Arguments.of(76, 314),
            Arguments.of(76, 315),
            Arguments.of(76, 316),
            Arguments.of(76, 317),
            Arguments.of(76, 318),
            Arguments.of(76, 319),
            Arguments.of(77, 320),
            Arguments.of(78, 321),
            Arguments.of(79, 322),
            Arguments.of(79, 323),
            Arguments.of(80, 324),
            Arguments.of(81, 325),
            Arguments.of(81, 326),
            Arguments.of(81, 327),
            Arguments.of(82, 328),
            Arguments.of(83, 329),
            Arguments.of(84, 330),
            Arguments.of(84, 331),
            Arguments.of(84, 332),
            Arguments.of(84, 333),
            Arguments.of(84, 334),
            Arguments.of(84, 335),
            Arguments.of(85, 336),
            Arguments.of(86, 337),
            Arguments.of(87, 338),
            Arguments.of(87, 339),
            Arguments.of(88, 340),
            Arguments.of(89, 341),
            Arguments.of(89, 342),
            Arguments.of(89, 343),
            Arguments.of(89, 344),
            Arguments.of(89, 345),
            Arguments.of(89, 346),
            Arguments.of(89, 347),
            Arguments.of(89, 348),
            Arguments.of(89, 349),
            Arguments.of(89, 350),
            Arguments.of(89, 351),
            Arguments.of(89, 352),
            Arguments.of(89, 353),
            Arguments.of(89, 354),
            Arguments.of(89, 355),
            Arguments.of(89, 356),
            Arguments.of(89, 357),
            Arguments.of(89, 358),
            Arguments.of(89, 359),
            Arguments.of(89, 360),
            Arguments.of(89, 361),
            Arguments.of(89, 362),
            Arguments.of(89, 363),
            Arguments.of(89, 364),
            Arguments.of(89, 365),
            Arguments.of(89, 366),
            Arguments.of(89, 367),
            Arguments.of(89, 368),
            Arguments.of(89, 369),
            Arguments.of(89, 370),
            Arguments.of(89, 371),
            Arguments.of(89, 372),
            Arguments.of(89, 373),
            Arguments.of(89, 374),
            Arguments.of(89, 375),
            Arguments.of(89, 376),
            Arguments.of(89, 377),
            Arguments.of(89, 378),
            Arguments.of(89, 379),
            Arguments.of(89, 380),
            Arguments.of(89, 381),
            Arguments.of(89, 382),
            Arguments.of(89, 383),
            Arguments.of(89, 384),
            Arguments.of(89, 385),
            Arguments.of(89, 386),
            Arguments.of(89, 387),
            Arguments.of(89, 388),
            Arguments.of(89, 389),
            Arguments.of(89, 390),
            Arguments.of(89, 391),
            Arguments.of(89, 392),
            Arguments.of(89, 393),
            Arguments.of(89, 394),
            Arguments.of(89, 395),
            Arguments.of(89, 396),
            Arguments.of(89, 397),
            Arguments.of(89, 398),
            Arguments.of(89, 399),
            Arguments.of(89, 400),
            Arguments.of(89, 401),
            Arguments.of(89, 402),
            Arguments.of(89, 403),
            Arguments.of(89, 404),
            Arguments.of(89, 405),
            Arguments.of(89, 406),
            Arguments.of(89, 407),
            Arguments.of(89, 408),
            Arguments.of(89, 409),
            Arguments.of(89, 410),
            Arguments.of(89, 411),
            Arguments.of(89, 412),
            Arguments.of(89, 413),
            Arguments.of(89, 414),
            Arguments.of(89, 415),
            Arguments.of(89, 416),
            Arguments.of(89, 417),
            Arguments.of(89, 418),
            Arguments.of(89, 419),
            Arguments.of(89, 420),
            Arguments.of(89, 421),
            Arguments.of(89, 422),
            Arguments.of(89, 423),
            Arguments.of(89, 424),
            Arguments.of(89, 425),
            Arguments.of(89, 426),
            Arguments.of(89, 427),
            Arguments.of(89, 428),
            Arguments.of(89, 429),
            Arguments.of(89, 430),
            Arguments.of(89, 431),
            Arguments.of(89, 432),
            Arguments.of(89, 433),
            Arguments.of(89, 434),
            Arguments.of(89, 435),
            Arguments.of(89, 436),
            Arguments.of(89, 437),
            Arguments.of(89, 438),
            Arguments.of(89, 439),
            Arguments.of(89, 440),
            Arguments.of(89, 441),
            Arguments.of(89, 442),
            Arguments.of(89, 443),
            Arguments.of(89, 444),
            Arguments.of(89, 445),
            Arguments.of(89, 446),
            Arguments.of(89, 447),
            Arguments.of(89, 448),
            Arguments.of(89, 449),
            Arguments.of(89, 450),
            Arguments.of(89, 451),
            Arguments.of(89, 452),
            Arguments.of(89, 453),
            Arguments.of(89, 454),
            Arguments.of(89, 455),
            Arguments.of(89, 456),
            Arguments.of(89, 457),
            Arguments.of(89, 458),
            Arguments.of(89, 459),
            Arguments.of(89, 460),
            Arguments.of(89, 461),
            Arguments.of(89, 462),
            Arguments.of(89, 463),
            Arguments.of(89, 464),
            Arguments.of(89, 465),
            Arguments.of(89, 466),
            Arguments.of(89, 467),
            Arguments.of(89, 468),
            Arguments.of(89, 469),
            Arguments.of(89, 470),
            Arguments.of(89, 471),
            Arguments.of(89, 472),
            Arguments.of(89, 473),
            Arguments.of(89, 474),
            Arguments.of(89, 475),
            Arguments.of(89, 476),
            Arguments.of(89, 477),
            Arguments.of(89, 478),
            Arguments.of(89, 479),
            Arguments.of(89, 480),
            Arguments.of(89, 481),
            Arguments.of(89, 482),
            Arguments.of(89, 483),
            Arguments.of(89, 484),
            Arguments.of(89, 485),
            Arguments.of(89, 486),
            Arguments.of(89, 487),
            Arguments.of(89, 488),
            Arguments.of(89, 489),
            Arguments.of(89, 490),
            Arguments.of(89, 491),
            Arguments.of(89, 492),
            Arguments.of(89, 493),
            Arguments.of(89, 494),
            Arguments.of(89, 495),
            Arguments.of(89, 496),
            Arguments.of(89, 497),
            Arguments.of(89, 498),
            Arguments.of(89, 499),
            Arguments.of(89, 500),
            Arguments.of(89, 501),
            Arguments.of(89, 502),
            Arguments.of(89, 503),
            Arguments.of(89, 504),
            Arguments.of(89, 505),
            Arguments.of(89, 506),
            Arguments.of(89, 507),
            Arguments.of(89, 508),
            Arguments.of(89, 509),
            Arguments.of(89, 510),
            Arguments.of(89, 511)
        );
    }

    static Stream<Arguments> getBitCountSource() {
        return Stream.of(
            Arguments.of(0, 0),
            Arguments.of(1, 1),
            Arguments.of(2, 2),
            Arguments.of(2, 3),
            Arguments.of(3, 4),
            Arguments.of(3, 5),
            Arguments.of(3, 6),
            Arguments.of(3, 7),
            Arguments.of(4, 8)
        );
    }

    public static Stream<Arguments> getBitSource() {
        return Stream.of(
            Arguments.of(1, 1, 0),
            Arguments.of(1, 2, 0),
            Arguments.of(0, 2, 1),
            Arguments.of(1, 3, 0),
            Arguments.of(1, 3, 1),
            Arguments.of(1, 4, 0),
            Arguments.of(0, 4, 1),
            Arguments.of(0, 4, 2),
            Arguments.of(1, 5, 0),
            Arguments.of(0, 5, 1),
            Arguments.of(1, 5, 2),
            Arguments.of(1, 6, 0),
            Arguments.of(1, 6, 1),
            Arguments.of(0, 6, 2),
            Arguments.of(1, 7, 0),
            Arguments.of(1, 7, 1),
            Arguments.of(1, 7, 2),
            Arguments.of(1, 8, 0),
            Arguments.of(0, 8, 1),
            Arguments.of(0, 8, 2),
            Arguments.of(0, 8, 3)
        );
    }

    static Stream<Arguments> onlyHighBitSource() {
        return Stream.of(
            Arguments.of(0, 0),
            Arguments.of(1, 1),
            Arguments.of(2, 2),
            Arguments.of(2, 3),
            Arguments.of(4, 4),
            Arguments.of(4, 5),
            Arguments.of(4, 6),
            Arguments.of(4, 7),
            Arguments.of(8, 8)
        );
    }

    public static Stream<Arguments> removeHighBitSource() {
        return Stream.of(
            Arguments.of(0, 1),
            Arguments.of(0, 2),
            Arguments.of(1, 3),
            Arguments.of(0, 4),
            Arguments.of(1, 5),
            Arguments.of(2, 6),
            Arguments.of(3, 7),
            Arguments.of(0, 8)
        );
    }
}